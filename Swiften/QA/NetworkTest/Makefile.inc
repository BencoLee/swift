NETWORKTEST_TARGET += Swiften/QA/NetworkTest/checker
NETWORKTEST_SOURCES += \
	Swiften/QA/NetworkTest/DomainNameResolverTest.cpp \
	Swiften/QA/NetworkTest/BoostConnectionTest.cpp \
	QA/UnitTest/checker.cpp
NETWORKTEST_OBJECTS = \
	$(NETWORKTEST_SOURCES:.cpp=.o)

TEST_TARGETS += NetworkTest

CLEANFILES += $(NETWORKTEST_OBJECTS) $(NETWORKTEST_TARGET)
DEPS += $(NETWORKTEST_SOURCES:.cpp=.dep)

$(NETWORKTEST_TARGET): $(SWIFTEN_TARGET) $(CPPUNIT_TARGET) $(NETWORKTEST_OBJECTS) $(BUNDLED_LIBS)
	$(QUIET_LINK)$(CXX) -o $(NETWORKTEST_TARGET) $(NETWORKTEST_OBJECTS) $(LDFLAGS) $(CPPNETWORK_LDFLAGS) $(SWIFTEN_TARGET) $(CPPUNIT_TARGET) $(BUNDLED_LIBS) $(LIBS)

.PHONY: NetworkTest
NetworkTest: $(NETWORKTEST_TARGET)
	$(TEST_RUNNER) $(NETWORKTEST_TARGET)
