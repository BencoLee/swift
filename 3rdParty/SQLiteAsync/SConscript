Import("env")


################################################################################
# Flags
################################################################################


if env["SCONS_STAGE"] == "flags" :
	env["SQLITE_ASYNC_FLAGS"] = {
			"CPPPATH": [Dir(".")],
			"LIBPATH": [Dir(".")],
			"LIBS": ["SQLiteAsync"],
		}

if env["SCONS_STAGE"] == "build" :
	myenv = env.Clone()
	myenv.Replace(CCFLAGS = [flag for flag in env["CCFLAGS"] if flag not in ["-W", "-Wall"]])
	myenv.MergeFlags(env.get("SQLITE_FLAGS", {}))
	myenv.StaticLibrary("SQLiteAsync", ["sqlite3async.c"], CPPPATH = ["."])
