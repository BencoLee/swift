UNITTEST_TARGET = QA/UnitTest/checker
UNITTEST_SOURCES += \
	QA/UnitTest/checker.cpp
UNITTEST_OBJECTS = \
	$(UNITTEST_SOURCES:.cpp=.o)

TEST_TARGETS += check

CLEANFILES += $(UNITTEST_TARGET)
DEPS += $(UNITTEST_SOURCES:.cpp=.dep)

.PHONY: check
check: $(UNITTEST_TARGET)
	$(TEST_RUNNER) ./$(UNITTEST_TARGET)

$(UNITTEST_TARGET): $(CPPUNIT_TARGET) $(UNITTEST_OBJECTS) $(UNITTEST_LIBS) $(BUNDLED_LIBS)
	$(QUIET_LINK)$(CXX) -o $(UNITTEST_TARGET) $(UNITTEST_OBJECTS) $(LDFLAGS) $(CPPUNIT_TARGET) $(UNITTEST_LIBS) $(BUNDLED_LIBS) $(LIBS)

